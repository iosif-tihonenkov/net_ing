# Статическая маршрутизация

Разберем как настраивать статическую маршрутизацию в сети. 

## Стартовая топология

<img width="1280" height="736" alt="image" src="https://github.com/user-attachments/assets/2b012e57-d20b-4205-ace7-c248ac1befa3" />

### Общая структура
Представленная сеть состоит из трех маршрутизаторов, соединенных между собой и подключенных к коммутаторам и конечным устройствам.

#### Маршрутизаторы
**Маршрутизатор R1**

Интерфейс fa0/0:
- Сеть: 192.168.1.0/24
- IP-адрес: 192.168.1.1

Интерфейс fa0/1:
- Сеть: 192.168.2.0/24
- IP-адрес: 192.168.2.1

**Маршрутизатор R2**

Интерфейс fa0/0:
- Сеть: 192.168.2.0/24
- IP-адрес: 192.168.2.2

Интерфейс fa0/1:
- Сеть: 192.168.3.0/24
- IP-адрес: 192.168.3.2

**Маршрутизатор R3**

Интерфейс fa0/0:
- Сеть: 192.168.3.0/24
- IP-адрес: 192.168.3.3

Интерфейс fa0/1:
- Сеть: 192.168.4.0/24
- IP-адрес: 192.168.4.3

#### Коммутаторы

Коммутаторы используются для подключения конечных устройств к соответствующим сетевым сегментам.

**Конечные устройства
ПК1:**
- Подключён к сети 192.168.1.0/24
- IP-адрес: 192.168.1.10

**ПК2:**
- Подключён к сети 192.168.4.0/24
- IP-адрес: 192.168.4.10

## Настройка статической маршрутизации
<img width="1248" height="804" alt="image" src="https://github.com/user-attachments/assets/7e2ca39a-b54c-4725-8f10-1141669cc508" />
На скриншоте выше видно, что для передачи сигнала с одного ПК на второй - сигналу нужно пройти 4 различных сети. 
Маршрутизаторы знают только сети, которые стоят за их портами. Получается, что теоретически возможно прокинуть сигнал только в ближайшую сеть. 
На скрине ниже - пинг ПК на ПК невозможен, но до шлюза - можно. 
<img width="1280" height="604" alt="image" src="https://github.com/user-attachments/assets/01cbeea6-3f16-4822-8b14-38ec5ac209ab" />


**Нам это не подходит**

Нас интересует возможность передачи данных до конечного устройства. 

Для начала посмотри что там в роутере по статическим маршрутам. Идем и пишем:
`Router#show ip route`

Что же делает данная команда? Онапокаазывается, какие маршруты настроены.
<img width="1280" height="626" alt="image" src="https://github.com/user-attachments/assets/e422d787-0435-4fc2-98e1-eb1dd44150b8" />
На данныом скриншоте мы видим, что у нас установленно только лишь два соединения (не путать с маршрутом). А маршрутов вообще нет. 

### Давайте исправлять

Суть статичесской маршрутизации, что мы строим маршрут от пункта А до пункта Б. 

Но так как маршрутизатор может знать только своего соседа, то мы указываем, через какого соседа можно добраться. 

В нашем случае точка А: ПК с IP 192.168.1.10/24
Точка Б: ПК с IP 192.168.4.10/24

Соответственно ping не продет. Мы идем и говорим R1 буквально следующее: если тебе надо сказать что то в 192.168.4.0 (вся сеть целиком) - передай его через 192.168.2.2 (IP соседа). Или можно написать не IP соседа, а порт роутера, который смотрит на соседа. 

Далее мы идем к этому соседу - R2 и говорим ему в том же ключе: передавай в сеть 192.168.4.0 через своего соседа на 192.168.3.3
Ну и придя к этому соседу мы поймем, что вот он - уже прекрасно знает, где ПК2. 

Выглядят команды вот так: 
<img width="1280" height="738" alt="image" src="https://github.com/user-attachments/assets/b3d5396a-0c0f-4f12-8fea-f2b4e297a04d" />

А вот так выглядят результаты записи: 
<img width="1280" height="615" alt="image" src="https://github.com/user-attachments/assets/861d8779-b7a5-481d-a7a9-d062879face4" />

Соответственно настраиваем и в обратную сторону, т.к. нам надо не только передать пинг, но и получить ответ. БАНАЛЬНО ИДЕМ В ОБРАТНУЮ СТОРОНУ. 

## Итог
<img width="1280" height="593" alt="image" src="https://github.com/user-attachments/assets/b6547662-94e0-4f57-b80b-3ba2ebebc6fc" />
По итогу мы настроили статическую маршрутизаццию и все работает.) 


