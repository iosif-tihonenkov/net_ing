# Установа PnetLab через ishare2 на Ubuntu

Коллеги, добрый день! Сегодня мы будем устанавливать PnetLab максимально удобным, на мой взгляд, путем. А именно - через утилиту ishare2. 

## Алгоритм действий
1. Установка Ubuntu (как OS, на которой все это будет работать)
2. Установка ishare2
3. Upgrade ishare2 до уровня PnetLab
4. Скачивание образа и запуск лаборатории

## Шаг 1. Установка Ubuntu. 

**Info**: Если у Вас уже установлена Ubuntu 20.04.06 - можете пропустить шаг.

Коллеги, начинаем с основного этапа. Нам начала нам потребуется операционная система, а именно Ubuntu 20.04. Это если мы будем устанавливать PnetLab версии 5. 4 версия работает под 18.какой то.

<img width="336" height="79" alt="{C3C86E9E-B6D4-431E-87F8-7453FD051A78}" src="https://github.com/user-attachments/assets/fd07fa69-0ee8-4685-abac-089265eb906e" />

Я скачал версию 20.04.06 и установил на VirtualBox. Ресурсы дал следующие:
1. 8 Гб - RAM
2. 100 Гб - SSD
3. 8 ядра - CPU

Установили и поехали дальше) 

## Шаг 2. Установка Ishare2.

Для начала не забываем обновить зависимости после установки OS. Для этого используем стандартные команды: 

```apt update```

```apt upgrade```

Так же быстренько устанавил утилиту `btop`, что бы показать загруженность на пустой ОС, ОС с PnetLab без лаб, ОС с PnetLab с простой лабой на 2 коммутатора. [Подробнее в подвале инструкции со скриншотами.](https://github.com/iosif-tihonenkov/net_ing/edit/main/Настройка%20PnetLab/Установка%20PnetLab%20через%20ishare2.md#psсостояние-загрузки-ресурсов-в-разных-ситуациях)

Устанавливаем ishare2 

```wget -O /usr/sbin/ishare2 https://raw.githubusercontent.com/ishare2-org/ishare2-cli/main/ishare2 && chmod +x /usr/sbin/ishare2 && ishare2```

Далее на каждом этапе выбираем дефолтное состояние при установке. 

## Шаг 3. Установка PnetLab.

Следующий шаг - установка PnetLab через апгрейд ishare2. 

Вводим команду `ishare2 upgrade`.

Выбираем пункт `2) Upgrade PNETLab`.
Так как у нас версия Ubuntu 20.04.6, то мы будем апгрейдить до PnetLab v6 Beta. v5 Beta и Stable работают под 18.04 версией. Если выберете неправильную версию - система вам об этом скажет, так что особо не паримся. Жмем на `3) Upgrade PNETLab v6 BETA`. 

Установка займет какой то время. Все сильно зависит от вашей скорости интернета, т.к. система будет скачиваться. 

После установки нам выпадет следующее сообщение:

<img width="1047" height="123" alt="{89514A2A-425D-4E8D-BE96-2D7AB42FD1C3}" src="https://github.com/user-attachments/assets/0f162f12-11aa-4586-b378-01e004073163" />

Это значит что все хорошо, логин и пароль установлены дефолтные (логин 'root', пароль 'pnet') и просит перезапустить систему. Делаем перезапуск командой `sudo reboot`.

Теперь мы можем запустить PnetLab. Для этого мы в браузере заходим по IP-адресу (v4) нашей VM. Без указания порта и т.п. Там далее разбирайтесь по инструкции. Все в целом понятно. Но я мейби напишу инструкцию и тогда здесь появится ссылка. 

## Шаг 4. Установка образов для работы PnetLab.

Для того, что бы установить/скачать образы для работы - нам не нужно мучаться. Для этого мы просто воспользуемся командной (в терминале) ```ishare2 search all``` и нам выведется список всех образов в библиотеке. Вы также можете сузить поиск, написав вместо `all` свое ключевое слово, например ```ishare2 search c2600```.

Примерный вывод на скриншоте ниже:
<img width="1077" height="824" alt="{AA4AD84D-8F7D-49D0-A096-3721255D53EA}" src="https://github.com/user-attachments/assets/c1a1f479-67d0-40d6-8f5c-2e5721300fcf" />

Для установки пользуемся командой ```ishare2 pull <type> <id>```, где `<type>` это тип образа (на скрине это **DYNAMIPS**), а `<id>` это **ID**

После этого мы идем скачиваем образ и можем использовать его уже в нашем лаборатории.


## P.S.:Состояние загрузки ресурсов в разных ситуациях

ОС без PnetLab, монитор ресурсов:
<img width="1916" height="848" alt="{E4200813-5BCD-4601-8857-B31F5584F2EF}" src="https://github.com/user-attachments/assets/b3bc1018-8033-48ec-b931-362ec2d0f186" />

ОС с PnetLab, монитор ресурсов:
<img width="1918" height="826" alt="{F19D2D1F-770E-4B70-BE50-DE5793CE1AED}" src="https://github.com/user-attachments/assets/f97e9bed-444a-42cb-adc4-ba49e91b5140" />

ОС с PnetLab и с запущенными двумя коммутаторами (Cisco C1710), монитор ресурсов:
<img width="1919" height="824" alt="{01BA710F-8ADA-4FD4-A1E7-7F50626DF9AB}" src="https://github.com/user-attachments/assets/8bf48b5b-f7b5-4858-802e-d038f14d7d14" />

<img width="538" height="207" alt="{217CB4C9-0442-40E6-A866-222B4E4B765C}" src="https://github.com/user-attachments/assets/63ec3237-5218-4c1e-8f5f-904e9dc7d163" />



